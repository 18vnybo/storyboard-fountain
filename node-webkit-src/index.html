<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <script>window.__startTime = (new Date()*1);</script>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="css/bootstrap.css">
        <link rel="stylesheet" href="css/bootstrap-theme.min.css">
        <link rel="stylesheet" media="all" href="bower_components/codemirror/lib/codemirror.css">
        <link rel="stylesheet" media="all" href="css/main.css">
        <link rel="stylesheet" media="all" href="css/neo.css">
        <link rel="stylesheet" media="all" href="css/neo-snippet.css">
        <link rel="stylesheet" media="all" href="css/nanoscroller.css">
        <link rel="stylesheet" href="css/shortcuts.css">
        <script src="js/libs/modernizr-2.6.2-respond-1.1.0.min.js"></script>
        <script src="bower_components/codemirror/lib/codemirror.js"></script>
        <script src="bower_components/codemirror/addon/search/searchcursor.js"></script>
        <script src="bower_components/codemirror/addon/search/search.js"></script>
        <script src="js/libs/foldcode-modified.js"></script>
        <link href='http://fonts.googleapis.com/css?family=Roboto:400,500,300' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600' rel='stylesheet' type='text/css'>
        <script type="text/javascript" src="//use.typekit.net/lyg7zzn.js"></script>
        <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
        <script>
          process.env.NODE_ENV = 'production';
        </script>
    </head>
    <body ondragstart="return false;" ondrop="return false;" onselectstart="return false;">

   <!--  <div id="codemirror-test"></div> -->


    <div id="boards-toolbar" class="toolbar">

      <div class="toolbar-button-group">
        <div class="toolbar-button stats disable-while-engaged" id="bttn-stats" title="Show stats"></div>
      </div>

      <div class="toolbar-button-group">
        <div class="toolbar-button new-board disable-while-engaged" id="bttn-new-board" title="Create a new board [key: N]"></div>
        <div class="toolbar-button remove-board disable-while-engaged" id="bttn-remove-board" title="Remove the current board... [key: Delete]"></div>
      </div>

      <div class="toolbar-button-group">
        <div class="toolbar-button record" id="bttn-record" title="Live record timing for boards [key: Cmd + R]"></div>
        <div class="toolbar-button recording" id="bttn-recording" title="Stop recording [key: Esc]" style="display: none;"></div>
        <div class="toolbar-button previous disable-while-engaged" id="bttn-previous" title="Previous board [key: left arrow or up arrow]"></div>
        <div class="toolbar-button play" id="bttn-play" title="Play back board timing [key: space]"></div>
        <div class="toolbar-button pause" id="bttn-pause" title="Pause playback [key: space]" style="display: none;"></div>
        <div class="toolbar-button next disable-while-engaged" id="bttn-next" title="Next board [key: right arrow or down arrow]"></div>
      </div>

      <div class="toolbar-button-group">
        <div class="toolbar-button undo disable-while-engaged" id="bttn-undo" title="Undo drawing [key: Z]"></div>
        <div class="toolbar-button redo disable-while-engaged" id="bttn-redo" title="Redo drawing [key: X]"></div>
      </div>

      <div class="toolbar-button-group">
        <div class="toolbar-button copy disable-while-engaged" id="bttn-copy" title="Copy board [key: C]"></div>
        <div class="toolbar-button paste disable-while-engaged" id="bttn-paste" title="Paste board [key: V]"></div>
      </div>

      <div class="toolbar-button-group">
        <div class="toolbar-button guide disable-while-engaged" id="bttn-guide" title="Toggle guides [key: G]"></div>
        <div class="toolbar-button lightbox disable-while-engaged" id="bttn-lightbox" title="Toggle lightbox mode [key: L]"></div>
      </div>

      <div class="toolbar-button-group">
        <div class="toolbar-button paint disable-while-engaged" id="bttn-paint" title="Fat paint marker [key: 1]"></div>
        <div class="toolbar-button pencil disable-while-engaged" id="bttn-pencil" title="Pencil [key: 2]"></div>
        <div class="toolbar-button pen disable-while-engaged" id="bttn-pen" title="Pen [key: 3]"></div>
      </div>

      <div class="toolbar-button-group">
        <div class="toolbar-button toolbar-button-color disable-while-engaged" id="bttn-color-1" title="Visualizer color [key: numpad 1]"><div class="color-1"></div></div>
        <div class="toolbar-button toolbar-button-color disable-while-engaged" id="bttn-color-2" title="Visualizer color [key: numpad 2]"><div class="color-2"></div></div>
        <div class="toolbar-button toolbar-button-color disable-while-engaged" id="bttn-color-3" title="Visualizer color [key: numpad 3]"><div class="color-3"></div></div>
      </div>

      <div class="toolbar-button-group">    
        <div class="toolbar-button toolbar-button-color disable-while-engaged" id="bttn-color-4" title="Black [key: numpad 7]"><div class="color-4"></div></div>
        <div class="toolbar-button toolbar-button-color disable-while-engaged" id="bttn-color-5" title="Dark Grey"><div class="color-5"></div></div>
        <div class="toolbar-button toolbar-button-color disable-while-engaged" id="bttn-color-6" title="Mid Grey [key: numpad 8]"><div class="color-6"></div></div>
        <div class="toolbar-button toolbar-button-color disable-while-engaged" id="bttn-color-7" title="Light Grey"><div class="color-7"></div></div>
        <div class="toolbar-button toolbar-button-color disable-while-engaged" id="bttn-color-8" title="White [key: numpad 9]"><div class="color-8"></div></div>
      </div>

      <div class="toolbar-button-group">    
        <div class="toolbar-button toolbar-button-color disable-while-engaged" id="bttn-color-9" title="Red [key: numpad 4]"><div class="color-9"></div></div>
        <div class="toolbar-button toolbar-button-color disable-while-engaged" id="bttn-color-10" title="Green [key: numpad 5]"><div class="color-10"></div></div>
        <div class="toolbar-button toolbar-button-color disable-while-engaged" id="bttn-color-11" title="Blue [key: numpad 6]"><div class="color-11"></div></div>
      </div>



    </div>

    <div id="script-toolbar" class="toolbar" style="display: none;">
      <div class="toolbar-button-group">
        <div class="toolbar-button stats" id="bttn-stats" title="Show stats"></div>
        <div class="toolbar-button export" id="bttn-export" title="Export boards to Final Cut XML or to Share"></div>
      </div>
      <div class="toolbar-button-group">
        <div class="toolbar-button expand-notes" id="bttn-expand-notes" title="Toggle notes [key: Cmd + E]"></div>
        <div class="toolbar-button auto-indent" id="bttn-auto-indent" title="Toggle auto-indent [key: Cmd + N]"></div>
      </div>
      <div class="toolbar-button-group" style="display: none;">
        <div class="toolbar-button fountain-help" id="bttn-fountain-help" title="Show fountain help [key: Cmd + ?]"></div>
      </div>
    </div>

    <div>
      <div class="boards-list">
        <div class="tabs">
          <div class="tab selected" id="tab-script">Boards</div>
          <div class="tab" id="tab-outline" style="display: none;">Outline</div>
          <div class="tab" id="tab-scripttext">Script Text</div>
        </div>

        <div id="scene-colorbars-container" style="z-index: 99;"><div id="scene-colorbars" style="position: relative;"></div></div>
        
        <div id="nano-script" class="nano">
          <div id="script" class="nano-content"></div>
        </div>
        
      </div>

      <div id="scripttext"></div>

      <div id="mainpane">
        
        
        
        <div id="drawpane">
          <div class="drawing-canvas">
            <div class="canvas white-bg"></div>
            <img id="lightbox-image" style="z-index: 99;"/>
            <canvas id="layer-1-ink" class="canvas" style="z-index: 100;"></canvas>
            <canvas id="layer-1-pencil" class="canvas" style="z-index: 102;"></canvas>
            <canvas id="layer-1-pen" class="canvas" style="z-index: 104;"></canvas>
            <img id="flat-image" style="z-index: 106;"/>
            <canvas id="layer-1-active-visible" class="canvas"></canvas>
            <div class="caption"></div>
          </div>
          <canvas id="layer-1-active" class="canvas" style="display: none;"></canvas>
          <div class="metadata">
            <div class="timer-timeleft"></div>
            <div class="timer-duration"><div></div></div>
          </div>
        </div>

    </div>
        
    <div class="timeline"></div>

    <div style="width: 0; height: 0; position: absolute;">
      <object id="wtPlugin" type="application/x-wacomtabletplugin"><param name="onload" value="pluginLoaded" /></object>
    </div>

    <script src="js/libs/jquery.min.js"></script>
    <script src="js/libs/bootstrap.min.js"></script>
    <script src="js/libs/handlebars-v1.3.0.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/tracking.js"></script>
    <script src="js/libs/jsBezier.js"></script>
    <script src="js/libs/jquery.nanoscroller.min.js"></script>
    <script src="js/libs/winstate.js"></script>
    <script src="js/util.js"></script>
    <script>
      require('coffee-script/register');
      window.example = require('./js/example');
      window.timeline = require('./js/timeline');
      window.player = require('./js/player');
      window.timer = require('./js/timer');
      window.recorder = require('./js/recorder');
      window.aspectRatio = require('./js/aspectratio');
      window.copypatse = require('./js/copypaste');
      window.updater = require('./js/updater');
    </script>
    <script src="js/sketchpane.js"></script>
    <script src="js/storyboardstate.js"></script>
    <script src="js/libs/fountain.js"></script>
    <script src="js/fountainhelpers.js"></script>
    <script src="js/boardeditor.js"></script>
    <script src="js/elementeditor.js"></script>
    <script src="js/fountainmanager.js"></script>
    <script src="js/sharing.js"></script>
    <script src="js/editormode.js"></script>
    <script src="js/snippetmode.js"></script>
    <script src="js/scripteditor.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/localsource.js"></script>
    <script src="js/main.js"></script>

    <div id="stats-window" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">Stats</h4>
          </div>
          <div class="modal-body">
          </div>
        </div>
      </div>
    </div>

    <div id="creating-share-link" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">Creating a share link&hellip;</h4>
          </div>
          <div class="modal-body">
            <p>Please wait&hellip;</p>
          </div>
        </div>
      </div>
    </div>

    <div id="share-links" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">Latest Created Link</h4>
          </div>
          <div class="modal-body">
          </div>
        </div>
      </div>
    </div>

    <script id="share-links-template" type="text/x-handlebars-template">
      {{#if link}}
      <ul>
        <li>
          <a class="share-link" href="#" data-href="{{link.playerUrl}}">
            Player
          </a>
        </li>
        <li>
          <a class="share-link" href="#" data-href="{{link.boardsUrl}}">
            Boards
          </a>
        </li>
      </ul>
      {{/if}}
    </script>
   
    <div id="update-app" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">Update Available</h4>
          </div>
          <div class="modal-body">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Not Now</button>
            <button type="button" class="btn btn-primary">Update</button>
          </div>
        </div>
      </div>
    </div>

    <script id="update-app-template" type="text/x-handlebars-template">
      <p>
        A new version of Storyboard Fountain is available (version {{version}}).
      </p>
      <p>
        Press Update to go to the website where you can download the latest version.
      </p>
      <p>
        What&quot;s New:
      </p>
      <p>
        {{description}}
      </p>
    </script>

    <script id="scene-heading-element" type="text/x-handlebars-template">
      <div class="module" id="module-script-{{chunk.id}}" style="{{headerStyleText}}">
        <div class="slug"><div class="view">SCENE: {{{outlineChunk.scene}}}</div></div>
        <div class="slug editable" data-id="{{chunk.id}}" data-part="slug">
          <div class="view">{{{outlineChunk.slugline}}}</div>
          <div class="edit"></div>
        </div>
        <div class="title editable" data-id="{{chunk.id}}" data-part="title">
          <div class="view">{{{outlineChunk.title}}}</div>
          <div class="edit"></div>
        </div>
        <div class="synopsis editable" data-id="{{chunk.id}}" data-part="synopsis">
          <div class="view">{{{outlineChunk.synopsis}}}</div>
          <div class="edit"></div>
        </div>
      </div>
    </script>

    <script id="action-element" type="text/x-handlebars-template">
      <div class="module selectable" id="module-script-{{chunk.id}}" style="{{mainStyleText}}">
        {{#each chunk.images}}
          <img id='script-image-{{boardId}}' src='{{boardThumb}}'>
        {{/each}}
        <div class="action editable" data-id="{{chunk.id}}" data-part="text">
          <div class="view">{{{chunk.text}}}</div>
          <div class="edit"></div>
        </div>
      </div>
    </script>

    <script id="character-element" type="text/x-handlebars-template">
      <div class="module selectable" id="module-script-{{chunk.id}}" style="{{mainStyleText}}">
        {{#each chunk.images}}
          <img id='script-image-{{boardId}}' src='{{boardThumb}}'>
        {{/each}}
        <div class="character editable" data-id="{{chunk.id}}" data-part="character">
          <div class="view">{{{chunk.character}}}</div>
          <div class="edit"></div>
        </div>
        <div class="editable" data-id="{{chunk.id}}" data-part="text">
          <div class="view">{{{chunk.text}}}</div>
          <div class="edit"></div>
        </div>
      </div>
    </script>

    <script id="character-boardview-element" type="text/x-handlebars-template">
      <div class="character editable" data-id="{{chunk.id}}" data-part="character">
        <div class="view">{{{chunk.character}}}</div>
        <div class="edit"></div>
      </div>
      <div class="editable" data-id="{{chunk.id}}" data-part="text">
        <div class="view">{{{chunk.text}}}</div>
        <div class="edit"></div>
      </div>
    </script>

    <script id="text-boardview-element" type="text/x-handlebars-template">
      <div class="editable" data-id="{{chunk.id}}" data-part="text">
        <div class="view">{{{chunk.text}}}</div>
        <div class="edit"></div>
      </div>
    </script>

    <div id="shortcuts" class="modal fade">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">Keyboard shortcuts</h4>
          </div>
          <div class="modal-body">
            <div class="container">
              <div class="row">

                <div class="col-sm-4">

                  <h3>General</h3>

                  <div class="row">
                    <div class="col-sm-6">
                      <kbd>⌘</kbd> + <kbd>?</kbd>
                    </div>
                    <div class="col-sm-6">
                      Keyboard shortcuts
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-sm-6">
                      <kbd>⌘</kbd> + <kbd>s</kbd>
                    </div>
                    <div class="col-sm-6">
                      Save
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-sm-6">
                      <kbd>⌘</kbd> + <kbd>q</kbd>
                    </div>
                    <div class="col-sm-6">
                      Quit
                    </div>
                  </div>

                </div>

                <div class="col-sm-4">

                  <h3>Board View</h3>

                  <div class="row">
                    <div class="col-md-6">
                      <kbd>Space</kbd>
                    </div>
                    <div class="col-md-6">
                      Play / Pause
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <kbd>Enter</kbd>
                    </div>
                    <div class="col-md-6">
                      Edit script element
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <kbd>n</kbd>
                    </div>
                    <div class="col-md-6">
                      New board
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <kbd>l</kbd>
                    </div>
                    <div class="col-md-6">
                      Toggle lightbox
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <kbd>Delete</kbd>
                    </div>
                    <div class="col-md-6">
                      Delete board
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <kbd>Page Up</kbd>
                    </div>
                    <div class="col-md-6">
                      Prev scene
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <kbd>Page Down</kbd>
                    </div>
                    <div class="col-md-6">
                      Next scene
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <kbd>⌘</kbd> + <kbd>r</kbd>
                    </div>
                    <div class="col-md-6">
                      Start recording
                    </div>
                  </div>

                  <h3>Recording</h3>

                  <div class="row">
                    <div class="col-md-6">
                      <kbd>Esc</kbd>
                    </div>
                    <div class="col-md-6">
                      Stop recording
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <kbd>Space</kbd> / <kbd>→</kbd>
                    </div>
                    <div class="col-md-6">
                      Next script element
                    </div>
                  </div>

                </div>

                <div class="col-sm-4">


                  <h3>Drawing</h3>

                  <div class="row">
                    <div class="col-sm-6">
                      <kbd>1</kbd> .. <kbd>3</kbd>
                    </div>
                    <div class="col-sm-6">
                      Pick brush
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-6">
                      <kbd>4</kbd> .. <kbd>9</kbd>
                    </div>
                    <div class="col-sm-6">
                      Pick color
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <kbd>z</kbd>
                    </div>
                    <div class="col-md-6">
                      Undo
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <kbd>x</kbd>
                    </div>
                    <div class="col-md-6">
                      Redo
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <kbd>⌘</kbd> + <kbd>c</kbd>
                    </div>
                    <div class="col-md-6">
                      Copy board
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <kbd>⌘</kbd> + <kbd>v</kbd>
                    </div>
                    <div class="col-md-6">
                      Paste board
                    </div>
                  </div>

                  <h3>Script</h3>

                  <div class="row">
                    <div class="col-sm-6">
                      <kbd>⌘</kbd> + <kbd>e</kbd>
                    </div>
                    <div class="col-sm-6">
                      Toggle expand notes
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-6">
                      <kbd>⌘</kbd> + <kbd>d</kbd>
                    </div>
                    <div class="col-sm-6">
                      Toggle auto-indent
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <kbd>⌘</kbd> + <kbd>f</kbd>
                    </div>
                    <div class="col-md-6">
                      Find...
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <kbd>⌘</kbd> + <kbd>g</kbd>
                    </div>
                    <div class="col-md-6">
                      Find next
                    </div>
                  </div>

                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <svg width="1" height="1">
      <defs>
        <filter id="script-image-filter">
          <feComponentTransfer>
            <feFuncR type="table" tableValues="0 0.1 0.2 0.3 0.4 0.5 0.6 1"/>
            <feFuncG type="table" tableValues="0 0.1 0.2 0.3 0.4 0.5 0.6 1"/>
            <feFuncB type="table" tableValues="0 0.1 0.2 0.3 0.4 0.5 0.6 1"/>
          </feComponentTransfer>
        </filter>
      </defs>
    </svg> 

    <input id="open-file-input" type="file" accept=".fountain" style="display: none;" />
    <input id="save-file-input" type="file" nwsaveas style="display: none;" />
    <input id="pick-data-path-input" type="file" nwdirectory style="display: none;" />
     <script>userTracking.event('App Start', 'Ready - ' + gui.App.manifest.version,  (Math.round(((new Date()*1) - __startTime) / 100) * 100) +'ms' ).send();</script>
   </body>
</html>